<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>验证码</title>
</head>

<body>
<button>生成验证码</button>
<span></span>
<input type="text" placeholder="请输入验证码"/>
<button>验证</button>
<span></span>
</body>
<script type="text/javascript">
var verificationCode = {
	str:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",
	result:"",
	getRandomNum:function(){
		var length = this.str.length;
		return Math.floor(Math.random()*length);
	},
	getCode:function(n){
		this.result = "";
		for(var i=0;i<n;i++){
			this.result += this.str.charAt(this.getRandomNum());
		}
		return this.result;
	},
	verify:function(input){
		var pattern = new RegExp("^"+this.result+"$","i");
		return pattern.test(input);
	}
}
window.onload = function(){
	var btn = document.getElementsByTagName("button");
	btn[0].onclick = function(){
		document.getElementsByTagName("span")[0].innerHTML = verificationCode.getCode(6);
	}
	btn[1].onclick = function(){
		document.getElementsByTagName("span")[1].innerHTML = verificationCode.verify(document.getElementsByTagName("input")[0].value);
	}
}
</script>
</html>
